"use strict";(self.webpackChunksra=self.webpackChunksra||[]).push([[1043],{7293:(e,n,s)=>{s.d(n,{A:()=>E});var r=s(6540),i=s(4848);function c(e){const{mdxAdmonitionTitle:n,rest:s}=function(e){const n=r.Children.toArray(e),s=n.find(e=>r.isValidElement(e)&&"mdxAdmonitionTitle"===e.type),c=n.filter(e=>e!==s),l=s?.props.children;return{mdxAdmonitionTitle:l,rest:c.length>0?(0,i.jsx)(i.Fragment,{children:c}):null}}(e.children),c=e.title??n;return{...e,...c&&{title:c},children:s}}var l=s(4164),d=s(1312),t=s(7559);const o="admonition_xJq3",a="admonitionHeading_Gvgb",h="admonitionIcon_Rf37",x="admonitionContent_BuS1";function u({type:e,className:n,children:s}){return(0,i.jsx)("div",{className:(0,l.A)(t.G.common.admonition,t.G.common.admonitionType(e),o,n),children:s})}function j({icon:e,title:n}){return(0,i.jsxs)("div",{className:a,children:[(0,i.jsx)("span",{className:h,children:e}),n]})}function p({children:e}){return e?(0,i.jsx)("div",{className:x,children:e}):null}function g(e){const{type:n,icon:s,title:r,children:c,className:l}=e;return(0,i.jsxs)(u,{type:n,className:l,children:[r||s?(0,i.jsx)(j,{title:r,icon:s}):null,(0,i.jsx)(p,{children:c})]})}function m(e){return(0,i.jsx)("svg",{viewBox:"0 0 14 16",...e,children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})})}const f={icon:(0,i.jsx)(m,{}),title:(0,i.jsx)(d.A,{id:"theme.admonition.note",description:"The default label used for the Note admonition (:::note)",children:"note"})};function _(e){return(0,i.jsx)(g,{...f,...e,className:(0,l.A)("alert alert--secondary",e.className),children:e.children})}function b(e){return(0,i.jsx)("svg",{viewBox:"0 0 12 16",...e,children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})})}const y={icon:(0,i.jsx)(b,{}),title:(0,i.jsx)(d.A,{id:"theme.admonition.tip",description:"The default label used for the Tip admonition (:::tip)",children:"tip"})};function v(e){return(0,i.jsx)(g,{...y,...e,className:(0,l.A)("alert alert--success",e.className),children:e.children})}function k(e){return(0,i.jsx)("svg",{viewBox:"0 0 14 16",...e,children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})})}const w={icon:(0,i.jsx)(k,{}),title:(0,i.jsx)(d.A,{id:"theme.admonition.info",description:"The default label used for the Info admonition (:::info)",children:"info"})};function A(e){return(0,i.jsx)(g,{...w,...e,className:(0,l.A)("alert alert--info",e.className),children:e.children})}function S(e){return(0,i.jsx)("svg",{viewBox:"0 0 16 16",...e,children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})})}const C={icon:(0,i.jsx)(S,{}),title:(0,i.jsx)(d.A,{id:"theme.admonition.warning",description:"The default label used for the Warning admonition (:::warning)",children:"warning"})};function T(e){return(0,i.jsx)("svg",{viewBox:"0 0 12 16",...e,children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})})}const N={icon:(0,i.jsx)(T,{}),title:(0,i.jsx)(d.A,{id:"theme.admonition.danger",description:"The default label used for the Danger admonition (:::danger)",children:"danger"})};const D={icon:(0,i.jsx)(S,{}),title:(0,i.jsx)(d.A,{id:"theme.admonition.caution",description:"The default label used for the Caution admonition (:::caution)",children:"caution"})};const R={...{note:_,tip:v,info:A,warning:function(e){return(0,i.jsx)(g,{...C,...e,className:(0,l.A)("alert alert--warning",e.className),children:e.children})},danger:function(e){return(0,i.jsx)(g,{...N,...e,className:(0,l.A)("alert alert--danger",e.className),children:e.children})}},...{secondary:e=>(0,i.jsx)(_,{title:"secondary",...e}),important:e=>(0,i.jsx)(A,{title:"important",...e}),success:e=>(0,i.jsx)(v,{title:"success",...e}),caution:function(e){return(0,i.jsx)(g,{...D,...e,className:(0,l.A)("alert alert--warning",e.className),children:e.children})}}};function E(e){const n=c(e),s=(r=n.type,R[r]||(console.warn(`No admonition component found for admonition type "${r}". Using Info as fallback.`),R.info));var r;return(0,i.jsx)(s,{...n})}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>d});var r=s(6540);const i={},c=r.createContext(i);function l(e){const n=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(c.Provider,{value:n},e.children)}},8912:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>x,frontMatter:()=>d,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"usage/Azure/configuration","title":"Configuration Reference","description":"---","source":"@site/docs/usage/Azure/configuration.mdx","sourceDirName":"usage/Azure","slug":"/usage/Azure/configuration","permalink":"/terraform-databricks-sra/docs/usage/Azure/configuration","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Mode 3: BYO Hub + Spoke","permalink":"/terraform-databricks-sra/docs/usage/Azure/mode3-byo-hub-spoke"},"next":{"title":"Troubleshooting","permalink":"/terraform-databricks-sra/docs/usage/Azure/troubleshooting"}}');var i=s(4848),c=s(8453),l=(s(6025),s(7293));const d={sidebar_position:1},t="Configuration Reference",o={},a=[{value:"Core Configuration",id:"core-configuration",level:2},{value:"Required Variables",id:"required-variables",level:3},{value:"Hub Configuration",id:"hub-configuration",level:3},{value:"Workspace (Spoke) Network Configuration",id:"workspace-spoke-network-configuration",level:3},{value:"Tags",id:"tags",level:3},{value:"Network Egress",id:"network-egress",level:2},{value:"allowed_fqdns",id:"allowed_fqdns",level:3},{value:"hub_allowed_urls",id:"hub_allowed_urls",level:3},{value:"Key Differences",id:"key-differences",level:3},{value:"SAT URL Requirements",id:"sat-url-requirements",level:3},{value:"Security &amp; Compliance",id:"security--compliance",level:2},{value:"workspace_security_compliance",id:"workspace_security_compliance",level:3},{value:"Compliance Security Profile (CSP)",id:"compliance-security-profile-csp",level:3},{value:"Enhanced Security Monitoring (ESM)",id:"enhanced-security-monitoring-esm",level:3},{value:"Complete Example",id:"complete-example",level:3},{value:"Customer-Managed Keys (CMK)",id:"customer-managed-keys-cmk",level:2},{value:"cmk_enabled",id:"cmk_enabled",level:3},{value:"existing_cmk_ids",id:"existing_cmk_ids",level:3},{value:"Example Configurations",id:"example-configurations",level:3},{value:"Security Analysis Tool (SAT)",id:"security-analysis-tool-sat",level:2},{value:"sat_configuration",id:"sat_configuration",level:3},{value:"Enable SAT on Classic Compute",id:"enable-sat-on-classic-compute",level:3},{value:"Enable SAT on Serverless",id:"enable-sat-on-serverless",level:3},{value:"Customize SAT Catalog and Schema",id:"customize-sat-catalog-and-schema",level:3},{value:"sat_service_principal",id:"sat_service_principal",level:3},{value:"SAT Availability",id:"sat-availability",level:3},{value:"Resource Naming",id:"resource-naming",level:2},{value:"workspace_name_overrides",id:"workspace_name_overrides",level:3},{value:"Testing Variables",id:"testing-variables",level:2},{value:"catalog_force_destroy",id:"catalog_force_destroy",level:3},{value:"sat_force_destroy",id:"sat_force_destroy",level:3},{value:"Example - Testing Environment",id:"example---testing-environment",level:3},{value:"Variable Dependencies",id:"variable-dependencies",level:2},{value:"Cross-Variable Requirements",id:"cross-variable-requirements",level:3},{value:"Mutual Exclusions",id:"mutual-exclusions",level:3},{value:"Next Steps",id:"next-steps",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"configuration-reference",children:"Configuration Reference"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"core-configuration",children:"Core Configuration"}),"\n",(0,i.jsx)(n.h3,{id:"required-variables",children:"Required Variables"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Variable"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"databricks_account_id"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Databricks account ID for account-level operations"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"location"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsxs)(n.td,{children:["Azure region (e.g., ",(0,i.jsx)(n.code,{children:'"westus"'}),", ",(0,i.jsx)(n.code,{children:'"eastus2"'}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"subscription_id"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Azure subscription ID to deploy into"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"resource_suffix"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsxs)(n.td,{children:["Suffix for naming workspace resources (e.g., ",(0,i.jsx)(n.code,{children:'"spoke"'}),", ",(0,i.jsx)(n.code,{children:'"prod"'}),")"]})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'databricks_account_id = "00000000-0000-0000-0000-000000000000"\nlocation              = "westus2"\nsubscription_id       = "ffffffff-ffff-ffff-ffff-ffffffffffff"\nresource_suffix       = "spoke"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"hub-configuration",children:"Hub Configuration"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Variable"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Required When"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"create_hub"})}),(0,i.jsx)(n.td,{children:"bool"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"true"})}),(0,i.jsx)(n.td,{children:"Always"}),(0,i.jsx)(n.td,{children:"Whether to create hub infrastructure"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"hub_resource_suffix"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'""'})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"create_hub = true"})}),(0,i.jsx)(n.td,{children:"Hub resource naming suffix"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"hub_vnet_cidr"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'""'})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"create_hub = true"})}),(0,i.jsx)(n.td,{children:"Hub VNET CIDR block"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'create_hub          = true\nhub_resource_suffix = "srahub"\nhub_vnet_cidr       = "10.0.0.0/22"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"workspace-spoke-network-configuration",children:"Workspace (Spoke) Network Configuration"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Variable"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Required When"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"create_workspace_vnet"})}),(0,i.jsx)(n.td,{children:"bool"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"true"})}),(0,i.jsx)(n.td,{children:"Always"}),(0,i.jsx)(n.td,{children:"Whether to create spoke VNET"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"workspace_vnet"})}),(0,i.jsx)(n.td,{children:"object"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"null"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"create_workspace_vnet = true"})}),(0,i.jsx)(n.td,{children:"Spoke network configuration"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"existing_workspace_vnet"})}),(0,i.jsx)(n.td,{children:"object"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"null"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"create_workspace_vnet = false"})}),(0,i.jsx)(n.td,{children:"Existing network details"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example (SRA-managed spoke network):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'create_workspace_vnet = true\n\nworkspace_vnet = {\n  cidr     = "10.0.4.0/22"\n  new_bits = 4  # Optional: for subnet sizing\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example (Bring-your-own hub and spoke network):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'create_workspace_vnet = false\n\nexisting_workspace_vnet = {\n  network_configuration = {\n    virtual_network_id                                   = "/subscriptions/.../virtualNetworks/vnet-spoke"\n    private_subnet_id                                    = "/subscriptions/.../subnets/container"\n    public_subnet_id                                     = "/subscriptions/.../subnets/host"\n    private_endpoint_subnet_id                           = "/subscriptions/.../subnets/private-endpoints"\n    private_subnet_network_security_group_association_id = "/subscriptions/.../subnets/container"\n    public_subnet_network_security_group_association_id  = "/subscriptions/.../subnets/host"\n  }\n  dns_zone_ids = {\n    backend = "/subscriptions/.../privateDnsZones/privatelink.azuredatabricks.net"\n    dfs     = "/subscriptions/.../privateDnsZones/privatelink.dfs.core.windows.net"\n    blob    = "/subscriptions/.../privateDnsZones/privatelink.blob.core.windows.net"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"tags",children:"Tags"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Variable"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"tags"})}),(0,i.jsx)(n.td,{children:"map(string)"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{}"})}),(0,i.jsx)(n.td,{children:"Tags to apply to all resources"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'tags = {\n  Owner       = "user@example.com"\n  Environment = "production"\n  CostCenter  = "engineering"\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"network-egress",children:"Network Egress"}),"\n",(0,i.jsx)(n.p,{children:"Control what internet resources your workspaces can access."}),"\n",(0,i.jsx)(l.A,{type:"warning",title:"Default: Zero Internet Access",children:(0,i.jsxs)(n.p,{children:["By default, SRA implements a ",(0,i.jsx)(n.strong,{children:"zero-trust network egress policy"})," where all workspaces have ",(0,i.jsx)(n.strong,{children:"no internet access"}),". You must explicitly allow access to specific FQDNs."]})}),"\n",(0,i.jsx)(n.h3,{id:"allowed_fqdns",children:"allowed_fqdns"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"list(string)"}),"\n",(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"[]"})," (no internet access)\n",(0,i.jsx)(n.strong,{children:"Applies to:"})," Spoke workspace (classic and serverless compute)"]}),"\n",(0,i.jsxs)(n.p,{children:["List of FQDNs that spoke workspace can access. ",(0,i.jsx)(n.strong,{children:"Supports wildcards"})," (e.g., ",(0,i.jsx)(n.code,{children:"*.pypi.org"}),")."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example - Python Packages:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'allowed_fqdns = [\n  "python.org",\n  "*.python.org",\n  "pypi.org",\n  "*.pypi.org",\n  "pythonhosted.org",\n  "*.pythonhosted.org"\n]\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example - R Packages:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'allowed_fqdns = [\n  "cran.r-project.org",\n  "*.cran.r-project.org",\n  "r-project.org"\n]\n'})}),"\n",(0,i.jsx)(n.h3,{id:"hub_allowed_urls",children:"hub_allowed_urls"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"set(string)"}),"\n",(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"[]"})," (no internet access)\n",(0,i.jsx)(n.strong,{children:"Applies to:"})," Hub workspace serverless compute only"]}),"\n",(0,i.jsxs)(n.p,{children:["List of URLs for hub workspace serverless. ",(0,i.jsx)(n.strong,{children:"No wildcard support"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'hub_allowed_urls = [\n  "management.azure.com",\n  "login.microsoftonline.com",\n  "python.org",      # No wildcard\n  "pypi.org",\n  "pythonhosted.org"\n]\n'})}),"\n",(0,i.jsx)(n.h3,{id:"key-differences",children:"Key Differences"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Feature"}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.code,{children:"allowed_fqdns"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.code,{children:"hub_allowed_urls"})})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Scope"})}),(0,i.jsx)(n.td,{children:"Spoke workspace and hub workspace classic"}),(0,i.jsx)(n.td,{children:"Hub workspace serverless"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Classic Compute"})}),(0,i.jsx)(n.td,{children:"Yes (hub and spoke)"}),(0,i.jsx)(n.td,{children:"No"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Serverless Compute"})}),(0,i.jsx)(n.td,{children:"Yes (spoke only)"}),(0,i.jsx)(n.td,{children:"Yes (hub only)"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"sat-url-requirements",children:"SAT URL Requirements"}),"\n",(0,i.jsx)(n.p,{children:"If you enable SAT, you must include specific URLs based on the compute type:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"For SAT on Classic Compute:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'sat_configuration = {\n  enabled = true\n  run_on_serverless = false  # Default\n}\n\nallowed_fqdns = [\n  "management.azure.com",\n  "login.microsoftonline.com",\n  "python.org",\n  "*.python.org",\n  "pypi.org",\n  "*.pypi.org",\n  "pythonhosted.org",\n  "*.pythonhosted.org"\n]\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"For SAT on Serverless:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'sat_configuration = {\n  enabled = true\n  run_on_serverless = true\n}\n\nhub_allowed_urls = [\n  "management.azure.com",\n  "login.microsoftonline.com",\n  "python.org",\n  "pypi.org",\n  "pythonhosted.org"\n]\n'})}),"\n",(0,i.jsx)(l.A,{type:"info",title:"Validation",children:(0,i.jsx)(n.p,{children:"Terraform will validate that SAT-required URLs are present if SAT is enabled."})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"security--compliance",children:"Security & Compliance"}),"\n",(0,i.jsxs)(n.p,{children:["The SRA supports advanced security and compliance features through the ",(0,i.jsx)(n.code,{children:"workspace_security_compliance"})," configuration."]}),"\n",(0,i.jsx)(n.h3,{id:"workspace_security_compliance",children:"workspace_security_compliance"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"object"}),"\n",(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"null"})," (all features disabled)"]}),"\n",(0,i.jsx)(n.p,{children:"Configures Enhanced Security Compliance (ESC) features."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Available Fields:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"compliance_security_profile_enabled"})}),(0,i.jsx)(n.td,{children:"bool"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"null"})}),(0,i.jsx)(n.td,{children:"Enable Compliance Security Profile (CSP)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"compliance_security_profile_standards"})}),(0,i.jsx)(n.td,{children:"list(string)"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"[]"})}),(0,i.jsxs)(n.td,{children:["Compliance standards (e.g., ",(0,i.jsx)(n.code,{children:'["HIPAA"]'}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"enhanced_security_monitoring_enabled"})}),(0,i.jsx)(n.td,{children:"bool"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"null"})}),(0,i.jsx)(n.td,{children:"Enable Enhanced Security Monitoring (ESM)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"automatic_cluster_update_enabled"})}),(0,i.jsx)(n.td,{children:"bool"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"null"})}),(0,i.jsx)(n.td,{children:"Enable automatic cluster updates"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"compliance-security-profile-csp",children:"Compliance Security Profile (CSP)"}),"\n",(0,i.jsx)(n.p,{children:"Enables Databricks Compliance Security Profile."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example - HIPAA Compliance:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'workspace_security_compliance = {\n  compliance_security_profile_enabled   = true\n  compliance_security_profile_standards = ["HIPAA"]\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Available Standards:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Review ",(0,i.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/databricks/security/privacy/security-profile",children:"Databricks documentation"})," for all available standards."]}),"\n"]}),"\n",(0,i.jsx)(l.A,{type:"warning",title:"Validation Rule",children:(0,i.jsxs)(n.p,{children:["If you specify ",(0,i.jsx)(n.code,{children:"compliance_security_profile_standards"}),", you ",(0,i.jsx)(n.strong,{children:"must"})," set ",(0,i.jsx)(n.code,{children:"compliance_security_profile_enabled = true"}),"."]})}),"\n",(0,i.jsx)(n.h3,{id:"enhanced-security-monitoring-esm",children:"Enhanced Security Monitoring (ESM)"}),"\n",(0,i.jsx)(n.p,{children:"Enables enhanced security monitoring."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:"workspace_security_compliance = {\n  enhanced_security_monitoring_enabled = true\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"complete-example",children:"Complete Example"}),"\n",(0,i.jsx)(n.p,{children:"Enable all security and compliance features:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'workspace_security_compliance = {\n  compliance_security_profile_enabled   = true\n  compliance_security_profile_standards = ["HIPAA"]\n  enhanced_security_monitoring_enabled  = true\n  automatic_cluster_update_enabled      = true\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"customer-managed-keys-cmk",children:"Customer-Managed Keys (CMK)"}),"\n",(0,i.jsx)(n.p,{children:"Controls enabling customer-managed keys features."}),"\n",(0,i.jsx)(n.h3,{id:"cmk_enabled",children:"cmk_enabled"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"bool"}),"\n",(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n",(0,i.jsx)(n.p,{children:"Whether to enable customer-managed keys for workspace encryption."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"When enabled (default):"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"CMK is enabled wherever possible"}),"\n",(0,i.jsxs)(n.li,{children:["Keys are managed in an Azure Key Vault in the hub environment (created by SRA if ",(0,i.jsx)(n.code,{children:"create_hub = true"}),")"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"To disable CMK:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:"cmk_enabled = false\n"})}),"\n",(0,i.jsx)(n.h3,{id:"existing_cmk_ids",children:"existing_cmk_ids"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"object"}),"\n",(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"null"}),"\n",(0,i.jsx)(n.strong,{children:"Required when:"})," ",(0,i.jsx)(n.code,{children:"create_hub = false"})," AND ",(0,i.jsx)(n.code,{children:"cmk_enabled = true"})]}),"\n",(0,i.jsx)(n.p,{children:"Provide existing CMK key IDs when using a bring-your-own hub deployment with CMK enabled."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Structure:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'existing_cmk_ids = {\n  key_vault_id            = "/subscriptions/.../Microsoft.KeyVault/vaults/kv-hub"\n  managed_disk_key_id     = "https://kv-hub.vault.azure.net/keys/cmk-disk/abc123"\n  managed_services_key_id = "https://kv-hub.vault.azure.net/keys/cmk-services/def456"\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Fields:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"key_vault_id"})," - Azure Resource ID of the Key Vault containing the keys"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"managed_disk_key_id"})," - Full key URL for encrypting managed disks"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"managed_services_key_id"})," - Full key URL for encrypting managed services"]}),"\n"]}),"\n",(0,i.jsx)(l.A,{type:"warning",title:"Validation Rules",children:(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["If ",(0,i.jsx)(n.code,{children:"create_hub = false"})," and ",(0,i.jsx)(n.code,{children:"cmk_enabled = true"}),", you ",(0,i.jsx)(n.strong,{children:"must"})," provide ",(0,i.jsx)(n.code,{children:"existing_cmk_ids"})]}),"\n",(0,i.jsxs)(n.li,{children:["If ",(0,i.jsx)(n.code,{children:"create_hub = true"}),", you ",(0,i.jsx)(n.strong,{children:"must not"})," provide ",(0,i.jsx)(n.code,{children:"existing_cmk_ids"})," (SRA creates keys)"]}),"\n"]})}),"\n",(0,i.jsx)(n.h3,{id:"example-configurations",children:"Example Configurations"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Mode 1 (Full SRA-managed with CMK):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:"create_hub  = true\ncmk_enabled = true  # Default\n\n# No existing_cmk_ids needed - SRA creates keys\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Mode 1 (Full SRA-managed without CMK):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:"create_hub  = true\ncmk_enabled = false\n\n# No CMK resources created\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Mode 2 (BYO Hub with CMK):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'create_hub  = false\ncmk_enabled = true\n\nexisting_cmk_ids = {\n  key_vault_id            = "/subscriptions/.../vaults/kv-hub"\n  managed_disk_key_id     = "https://kv-hub.vault.azure.net/keys/..."\n  managed_services_key_id = "https://kv-hub.vault.azure.net/keys/..."\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Mode 2 (BYO Hub without CMK):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:"create_hub  = false\ncmk_enabled = false\n\n# No existing_cmk_ids needed\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"security-analysis-tool-sat",children:"Security Analysis Tool (SAT)"}),"\n",(0,i.jsx)(n.p,{children:"Configure the Security Analysis Tool for continuous security monitoring."}),"\n",(0,i.jsx)(l.A,{type:"warning",title:"Disabled by Default",children:(0,i.jsxs)(n.p,{children:["SAT is ",(0,i.jsx)(n.strong,{children:"disabled by default"})," to support highly restricted no-egress deployments. Enable by setting ",(0,i.jsx)(n.code,{children:"sat_configuration.enabled = true"}),"."]})}),"\n",(0,i.jsx)(n.h3,{id:"sat_configuration",children:"sat_configuration"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"object"}),"\n",(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"{ enabled = false }"})]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"enabled"})}),(0,i.jsx)(n.td,{children:"bool"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsx)(n.td,{children:"Enable SAT deployment"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"run_on_serverless"})}),(0,i.jsx)(n.td,{children:"bool"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsx)(n.td,{children:"Run on serverless (vs classic compute)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"schema_name"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'"sat"'})}),(0,i.jsx)(n.td,{children:"Schema name for SAT tables"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"catalog_name"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'"sat"'})}),(0,i.jsx)(n.td,{children:"Catalog name for SAT resources"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"proxies"})}),(0,i.jsx)(n.td,{children:"map(any)"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{}"})}),(0,i.jsx)(n.td,{children:"HTTP Proxy configuration for SAT operations"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"enable-sat-on-classic-compute",children:"Enable SAT on Classic Compute"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Configuration:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'sat_configuration = {\n  enabled = true\n  run_on_serverless = false  # Default\n}\n\n# REQUIRED: Network egress for classic compute SAT\nallowed_fqdns = [\n  "management.azure.com",\n  "login.microsoftonline.com",\n  "python.org",\n  "*.python.org",\n  "pypi.org",\n  "*.pypi.org",\n  "pythonhosted.org",\n  "*.pythonhosted.org"\n]\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Behavior:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Deployed in hub (WEBAUTH) workspace by default"}),"\n",(0,i.jsx)(n.li,{children:"Can inspect all workspaces in the subscription"}),"\n",(0,i.jsx)(n.li,{children:"Requires classic compute cluster"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"enable-sat-on-serverless",children:"Enable SAT on Serverless"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Configuration:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'sat_configuration = {\n  enabled = true\n  run_on_serverless = true\n}\n\n# REQUIRED: Network egress for serverless SAT\nhub_allowed_urls = [\n  "management.azure.com",\n  "login.microsoftonline.com",\n  "python.org",\n  "pypi.org",\n  "pythonhosted.org"\n]\n'})}),"\n",(0,i.jsx)(l.A,{type:"warning",title:"Serverless Limitation",children:(0,i.jsxs)(n.p,{children:["When running SAT on serverless, it can ",(0,i.jsx)(n.strong,{children:"only inspect the workspace it's deployed in"}),". Use classic compute to inspect multiple workspaces across the subscription."]})}),"\n",(0,i.jsx)(n.h3,{id:"customize-sat-catalog-and-schema",children:"Customize SAT Catalog and Schema"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Configuration:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'sat_configuration = {\n  enabled       = true\n  catalog_name  = "security_monitoring"\n  schema_name   = "analysis_results"\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"sat_service_principal",children:"sat_service_principal"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"object"}),"\n",(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:'{ name = "spSAT" }'})]}),"\n",(0,i.jsx)(n.p,{children:"Configure or provide an existing service principal for SAT operations."}),"\n",(0,i.jsx)(l.A,{type:"info",title:"Service Principal Requirements",children:(0,i.jsx)(n.p,{children:"Some users may not have permissions to create Entra ID service principals. In this case, provide an existing service principal credentials."})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Option 1: Let SRA create the service principal (default)"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'# Uses default name "spSAT"\nsat_service_principal = {}\n\n# Or customize the name\nsat_service_principal = {\n  name = "spSATDev"\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Option 2: Use existing service principal"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'sat_service_principal = {\n  client_id     = "00000000-0000-0000-0000-000000000000"\n  client_secret = "your-service-principal-secret"\n}\n'})}),"\n",(0,i.jsx)(l.A,{type:"warning",title:"Important",children:(0,i.jsxs)(n.p,{children:["When providing ",(0,i.jsx)(n.code,{children:"client_id"}),", you ",(0,i.jsx)(n.strong,{children:"must"})," also provide ",(0,i.jsx)(n.code,{children:"client_secret"}),". Both fields are required together."]})}),"\n",(0,i.jsx)(n.h3,{id:"sat-availability",children:"SAT Availability"}),"\n",(0,i.jsxs)(n.p,{children:["SAT can only be deployed when ",(0,i.jsx)(n.code,{children:"create_hub = true"}),". If using Mode 2 (BYO Hub), SAT must be deployed separately in your existing hub workspace."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"resource-naming",children:"Resource Naming"}),"\n",(0,i.jsx)(n.p,{children:"Customize names of specific Azure resources to meet your organization's naming conventions."}),"\n",(0,i.jsx)(n.h3,{id:"workspace_name_overrides",children:"workspace_name_overrides"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"map(string)"}),"\n",(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"{}"})]}),"\n",(0,i.jsx)(n.p,{children:"Override default names for workspace and related resources. Keys should match the resource types you want to customize."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Available Override Keys:"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Key"}),(0,i.jsx)(n.th,{children:"Resource"}),(0,i.jsx)(n.th,{children:"Azure Naming Constraints"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"databricks_workspace"})}),(0,i.jsx)(n.td,{children:"Databricks workspace"}),(0,i.jsx)(n.td,{children:"3-64 chars, alphanumeric and hyphens"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"private_endpoint"})}),(0,i.jsx)(n.td,{children:"Private endpoints (base name)"}),(0,i.jsx)(n.td,{children:"1-80 chars, alphanumeric, hyphens, underscores"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"storage_account"})}),(0,i.jsx)(n.td,{children:"Storage account"}),(0,i.jsx)(n.td,{children:"3-24 chars, lowercase letters and numbers only"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"resource_group"})}),(0,i.jsx)(n.td,{children:"Resource group"}),(0,i.jsx)(n.td,{children:"1-90 chars, alphanumeric, hyphens, underscores, periods"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example - Custom Workspace Name:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'workspace_name_overrides = {\n  databricks_workspace = "dbx-prod-analytics"\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example - Multiple Overrides:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:'workspace_name_overrides = {\n  databricks_workspace = "dbx-prod-workspace"\n  storage_account      = "sadbxprod001"\n  resource_group       = "rg-databricks-prod"\n}\n'})}),"\n",(0,i.jsxs)(l.A,{type:"tip",title:"Naming Conventions",children:[(0,i.jsx)(n.p,{children:"When overriding names:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Ensure names comply with Azure resource naming constraints (i.e. Storage account names must be globally unique)"}),"\n",(0,i.jsxs)(n.li,{children:["Private endpoint names have suffixes added (",(0,i.jsx)(n.code,{children:"-backend"}),", ",(0,i.jsx)(n.code,{children:"-webauth"}),")"]}),"\n",(0,i.jsx)(n.li,{children:"Consider your organization's naming policies and tagging strategy"}),"\n"]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"testing-variables",children:"Testing Variables"}),"\n",(0,i.jsx)(l.A,{type:"danger",title:"Testing Environments Only",children:(0,i.jsxs)(n.p,{children:["These variables are for ",(0,i.jsx)(n.strong,{children:"testing and development environments only"}),". Do not use in production as they can lead to accidental data loss."]})}),"\n",(0,i.jsx)(n.h3,{id:"catalog_force_destroy",children:"catalog_force_destroy"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"bool"}),"\n",(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n",(0,i.jsx)(n.p,{children:"Allows Terraform to force destroy spoke workspace catalogs, bypassing Databricks' protection against accidental catalog deletion."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Configuration:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:"catalog_force_destroy = true  # Testing only!\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"What it does:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Enables ",(0,i.jsx)(n.code,{children:"terraform destroy"})," to delete catalogs containing data"]}),"\n",(0,i.jsx)(n.li,{children:"Skips the manual confirmation normally required"}),"\n",(0,i.jsx)(n.li,{children:"Useful for automated testing and rapid iteration"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Production risk:"}),"\nCatalogs contain schemas, tables, views, and metadata. Enabling force destroy in production could lead to accidental data loss if ",(0,i.jsx)(n.code,{children:"terraform destroy"})," is run unintentionally."]}),"\n",(0,i.jsx)(n.h3,{id:"sat_force_destroy",children:"sat_force_destroy"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"bool"}),"\n",(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n",(0,i.jsx)(n.p,{children:"Allows Terraform to force destroy the SAT catalog."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Configuration:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:"sat_force_destroy = true  # Testing only!\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Use case:"}),"\nIn testing/development environments where you need to repeatedly create and destroy infrastructure, these flags enable faster iteration."]}),"\n",(0,i.jsx)(n.h3,{id:"example---testing-environment",children:"Example - Testing Environment"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-hcl",children:"# terraform.tfvars for testing environment\n\n# Enable force destroy for testing environments\ncatalog_force_destroy = true\nsat_force_destroy     = true\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"variable-dependencies",children:"Variable Dependencies"}),"\n",(0,i.jsx)(n.h3,{id:"cross-variable-requirements",children:"Cross-Variable Requirements"}),"\n",(0,i.jsx)(n.p,{children:"Understanding variable dependencies helps avoid configuration errors."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"If you set..."}),(0,i.jsx)(n.th,{children:"Then you must also set..."}),(0,i.jsx)(n.th,{children:"Why"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"create_hub = false"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"databricks_metastore_id"})}),(0,i.jsx)(n.td,{children:"Spoke needs metastore reference"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"create_hub = false"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"existing_ncc_id"})}),(0,i.jsx)(n.td,{children:"Spoke needs NCC for serverless"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"create_hub = false"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"existing_network_policy_id"})}),(0,i.jsx)(n.td,{children:"Spoke needs network policy"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"create_hub = false"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"existing_hub_vnet"})}),(0,i.jsx)(n.td,{children:"Spoke needs hub VNET for peering"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"create_hub = false"})," AND ",(0,i.jsx)(n.code,{children:"cmk_enabled = true"})]}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"existing_cmk_ids"})}),(0,i.jsx)(n.td,{children:"Spoke needs CMK keys for encryption"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"create_workspace_vnet = true"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"workspace_vnet"})}),(0,i.jsx)(n.td,{children:"SRA needs CIDR for spoke network"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"create_workspace_vnet = false"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"existing_workspace_vnet"})}),(0,i.jsx)(n.td,{children:"Workspace needs existing network details"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"sat_configuration.enabled = true"})," AND ",(0,i.jsx)(n.code,{children:"run_on_serverless = false"})]}),(0,i.jsxs)(n.td,{children:["SAT URLs in ",(0,i.jsx)(n.code,{children:"allowed_fqdns"})]}),(0,i.jsx)(n.td,{children:"Classic SAT needs internet access"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"sat_configuration.enabled = true"})," AND ",(0,i.jsx)(n.code,{children:"run_on_serverless = true"})]}),(0,i.jsxs)(n.td,{children:["SAT URLs in ",(0,i.jsx)(n.code,{children:"hub_allowed_urls"})]}),(0,i.jsx)(n.td,{children:"Serverless SAT needs internet access"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"compliance_security_profile_standards = [...]"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"compliance_security_profile_enabled = true"})}),(0,i.jsx)(n.td,{children:"Standards require profile enabled"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"mutual-exclusions",children:"Mutual Exclusions"}),"\n",(0,i.jsx)(n.p,{children:"Some variables cannot be used together:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Cannot use together"}),(0,i.jsx)(n.th,{children:"Reason"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"workspace_vnet"})," AND ",(0,i.jsx)(n.code,{children:"existing_workspace_vnet"})]}),(0,i.jsx)(n.td,{children:"Choose one: SRA-managed or existing"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"create_hub = true"})," AND ",(0,i.jsx)(n.code,{children:"existing_cmk_ids"})]}),(0,i.jsx)(n.td,{children:"SRA creates CMK when creating hub"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"hub_vnet_cidr"})," when ",(0,i.jsx)(n.code,{children:"create_hub = false"})]}),(0,i.jsx)(n.td,{children:"Not creating hub, don't need hub CIDR"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Review ",(0,i.jsx)(n.a,{href:"/terraform-databricks-sra/docs/usage/Azure/deploymentmodes",children:"Deployment Modes"})," to choose your architecture"]}),"\n",(0,i.jsxs)(n.li,{children:["See ",(0,i.jsx)(n.a,{href:"/terraform-databricks-sra/docs/usage/Azure/components",children:"Components"})," for detailed feature documentation"]}),"\n",(0,i.jsxs)(n.li,{children:["Follow ",(0,i.jsx)(n.a,{href:"/terraform-databricks-sra/docs/usage/Azure/gettingstarted",children:"Getting Started"})," for deployment steps"]}),"\n",(0,i.jsxs)(n.li,{children:["Check ",(0,i.jsx)(n.a,{href:"/terraform-databricks-sra/docs/usage/Azure/troubleshooting",children:"Troubleshooting"})," if you encounter issues"]}),"\n"]})]})}function x(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}}}]);